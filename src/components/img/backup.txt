import React, { useContext, useEffect, useState } from "react";
import Card from 'react-bootstrap/Card';
import ListGroup from 'react-bootstrap/ListGroup';
import { NavLink } from "react-router-dom";
import { Accordion } from "react-bootstrap";
import { ProdContext } from "./Context/cartContext";
import { productService } from "./Productos";
import { productos } from "./Mock/products";

const Productos = () => {
  const miContext = useContext(ProdContext);
  console.log(miContext);
  const [products, setProducts] = useState([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    setTimeout(() => {
      setProducts(productos)
      setIsLoading(false)
    const loadedProductos = productService.getProductos();
    setProducts(loadedProductos)
  },3000);
  }, []);

  return (
    <>
      <h1>Nuestros Productos</h1>
      {isLoading ? (
        <h4>Cargando nuestros productos</h4>
      ) : (
        products.slice(0, 4).concat(productos.slice(8, 15)).map((producto) => (
          <div key={producto.id} style={{ display: 'flex' }}>
            <Card style={{ width: '18rem', margin: '3rem' }}>
              <Card.Body>
              <Card.Img variant="top" src={`./img/${producto.imagen}`} />
                <Card.Title>{producto.nombre}</Card.Title>
                <Accordion>
                  <Accordion.Item eventKey="0">
                    <Accordion.Header>Detalles</Accordion.Header>
                    <Accordion.Body>
                      <Card.Text>{producto.descripcion}</Card.Text>
                      <ListGroup.Item>Stock: {producto.stock} unidades</ListGroup.Item>
                      <ListGroup.Item>Descripción: {producto.descripcion}</ListGroup.Item>
                      <ListGroup.Item>ID: {producto.id}</ListGroup.Item>
                    </Accordion.Body>
                  </Accordion.Item>
                </Accordion>
              </Card.Body>
              <ListGroup className="list-group-flush">
                <ListGroup.Item>Precio: ${producto.precio}</ListGroup.Item>
              </ListGroup>
              <Card.Body>
                <NavLink to="/Carrito" id="botones">
                  Comprar
                </NavLink>
              </Card.Body>
            </Card>
          </div>
        ))
      )}
    </>
  );
}

export default Productos;





<Card style={{ width: '18rem', margin: '3rem' }}>
              <Card.Body>
              <Card.Img variant="top" src="https://firebasestorage.googleapis.com/v0/b/react-a14d7.appspot.com/o/Reparacion10.jpg?alt=media&token=fc816cf3-850f-4412-82aa-ea51b3bfa2c2&_gl=1*a4g8i2*_ga*NTY4NDczMTY4LjE2OTgyODEwOTQ.*_ga_CW55HF8NVT*MTY5OTQwNjkzNy45LjEuMTY5OTQxMTE4Ni42MC4wLjA. />
                <Card.Title>{product.nombre}</Card.Title>
                <Accordion>
                  <Accordion.Item eventKey="0">
                    <Accordion.Header>Detalles</Accordion.Header>
                    <Accordion.Body>
                      <Card.Text>{product.descripcion}</Card.Text>
                      <ListGroup.Item>Stock: {product.stock} unidades</ListGroup.Item>
                      <ListGroup.Item>Descripción: {product.descripcion}</ListGroup.Item>
                      <ListGroup.Item>Precio: {produc.precio}</ListGroup.Item>
                    </Accordion.Body>
                  </Accordion.Item>
                </Accordion>
              </Card.Body>